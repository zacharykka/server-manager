# Server Manager é¡¹ç›®ä¸Šä¸‹æ–‡

## é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: Server Manager
**ç›®æ ‡**: åˆ›å»ºä¸€ä¸ªGolang webé¡¹ç›®ï¼Œåç«¯ä½¿ç”¨ansibleå¯¹æœåŠ¡å™¨è¿›è¡Œæ‰¹é‡ç®¡ç†

## åŠŸèƒ½éœ€æ±‚

### ä¸»è¦åŠŸèƒ½
- æ‰¹é‡éƒ¨ç½²æœåŠ¡å™¨
- æœåŠ¡å™¨ç±»å‹ï¼šå¸¸è§Linuxå‘è¡Œç‰ˆ(Debianç³»/RedHatç³»/ArchLinux/Alpine/Openwrtç­‰)

### Ansibleåœºæ™¯
1. **Inventoryç®¡ç†**: å¢åˆ æ”¹æŸ¥
   - é•¿æœŸinventory
   - ä¸´æ—¶inventory
2. **Adhocå‘½ä»¤æ‰§è¡Œ**
3. **Playbookç®¡ç†å’Œæ‰§è¡Œ**

### ç”¨æˆ·ç•Œé¢
- å·¦å³åˆ†éš”å¸ƒå±€ï¼šå·¦è¾¹å¯¼èˆªæ ï¼Œå³è¾¹ç•Œé¢
- ç™»å½•ç•Œé¢
- ä»ªè¡¨æ¿
- ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- Ansibleå„ç§åŠŸèƒ½é¡µé¢
- æ‰§è¡Œä¿¡æ¯å®æ—¶è¾“å‡º

### ç”¨æˆ·æƒé™
- æš‚æ—¶åªåšå•ç”¨æˆ·ï¼Œç•™å‡ºæ‰©å±•ç©ºé—´å¼€å‘å¤šç”¨æˆ·

### éƒ¨ç½²æ–¹å¼
- äºŒè¿›åˆ¶éƒ¨ç½²
- å®¹å™¨éƒ¨ç½²

### æ•°æ®å­˜å‚¨éœ€æ±‚
- ä»»åŠ¡å†å²
- æœåŠ¡å™¨ä¿¡æ¯
- æ—¥å¿—
- inventory
- playbook
- adhocè®°å½•

## æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„ï¼ˆåˆ†å±‚è®¾è®¡ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Presentation Layer                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Web Frontend  â”‚  â”‚   REST API      â”‚  â”‚  WebSocket   â”‚ â”‚
â”‚  â”‚ (React+TS+Shadcn)â”‚ â”‚   (Gin/Echo)    â”‚  â”‚   Gateway    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Business Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Server    â”‚ â”‚   Ansible   â”‚ â”‚    Task     â”‚ â”‚  User  â”‚ â”‚
â”‚  â”‚  Service    â”‚ â”‚  Service    â”‚ â”‚  Service    â”‚ â”‚Service â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Infrastructure Layer                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Database   â”‚ â”‚    Cache    â”‚ â”‚   Message   â”‚ â”‚  File  â”‚ â”‚
â”‚  â”‚ Repository  â”‚ â”‚   (Redis)   â”‚ â”‚   Queue     â”‚ â”‚Storage â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

**åç«¯æŠ€æœ¯æ ˆ:**
- Webæ¡†æ¶: Gin
- æ•°æ®åº“: PostgreSQL (ä¸»åº“) + Redis (ç¼“å­˜/ä¼šè¯)
- ORM: GORM
- WebSocket: Gorilla WebSocket
- é…ç½®ç®¡ç†: Viper
- æ—¥å¿—: Zap + Lumberjack

**å‰ç«¯æŠ€æœ¯æ ˆ:**
- æ¡†æ¶: React 18 + TypeScript
- UIç»„ä»¶åº“: Shadcn/UI (åŸºäºRadix UI + Tailwind CSS)
- çŠ¶æ€ç®¡ç†: Zustand
- è·¯ç”±: React Router v6
- HTTPå®¢æˆ·ç«¯: Axios æˆ– TanStack Query
- æ„å»ºå·¥å…·: Vite

**éƒ¨ç½²ç›¸å…³:**
- å®¹å™¨åŒ–: Docker + Docker Compose
- è¿›ç¨‹ç®¡ç†: systemd (äºŒè¿›åˆ¶éƒ¨ç½²)
- åå‘ä»£ç†: Nginx

### æ ¸å¿ƒæ¨¡å—

```go
internal/
â”œâ”€â”€ auth/          // è®¤è¯æˆæƒæ¨¡å—
â”œâ”€â”€ server/        // æœåŠ¡å™¨ç®¡ç†æ¨¡å—
â”œâ”€â”€ ansible/       // Ansibleé›†æˆæ¨¡å—
â”œâ”€â”€ task/          // ä»»åŠ¡ç®¡ç†æ¨¡å—
â”œâ”€â”€ user/          // ç”¨æˆ·ç®¡ç†æ¨¡å—
â”œâ”€â”€ websocket/     // WebSocketé€šä¿¡æ¨¡å—
â”œâ”€â”€ common/        // å…¬å…±ç»„ä»¶
â””â”€â”€ middleware/    // ä¸­é—´ä»¶
```

### æ•°æ®åº“è®¾è®¡

**æ ¸å¿ƒè¡¨ç»“æ„:**
- users: ç”¨æˆ·è¡¨
- servers: æœåŠ¡å™¨è¡¨
- server_groups: æœåŠ¡å™¨ç»„è¡¨
- server_group_members: æœåŠ¡å™¨ç»„å…³è”è¡¨
- inventories: Inventoryè¡¨
- playbooks: Playbookè¡¨
- task_executions: ä»»åŠ¡æ‰§è¡Œè®°å½•è¡¨
- task_logs: ä»»åŠ¡æ‰§è¡Œè¯¦ç»†æ—¥å¿—è¡¨

### Ansibleé›†æˆç­–ç•¥

**é›†æˆæ–¹å¼**: å‘½ä»¤è¡Œè°ƒç”¨ (ä½¿ç”¨ `os/exec` åŒ…)
- é€šè¿‡ç®¡é“å®æ—¶è·å–è¾“å‡º
- æ›´ç¨³å®šå¯é ï¼Œå®Œå…¨å…¼å®¹AnsibleåŠŸèƒ½

**å®æ—¶é€šä¿¡æ–¹æ¡ˆ**: WebSocketæ¶æ„
- å®æ—¶ä»»åŠ¡è¾“å‡ºæ¨é€
- å®¢æˆ·ç«¯è¿æ¥ç®¡ç†
- æ¶ˆæ¯å¹¿æ’­æœºåˆ¶

## å¼€å‘è®¡åˆ’

### MVPåŠŸèƒ½èŒƒå›´

**Phase 1: åŸºç¡€å¹³å°æ­å»º (2-3å‘¨)**
- ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- æœåŠ¡å™¨ç®¡ç† (å¢åˆ æ”¹æŸ¥ã€SSHè¿æ¥æµ‹è¯•)
- åŸºç¡€UIæ¡†æ¶

**Phase 2: AnsibleåŸºç¡€é›†æˆ (2-3å‘¨)**
- Adhocå‘½ä»¤æ‰§è¡Œ
- é™æ€Inventoryç®¡ç†

**Phase 3: ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ (2-3å‘¨)**
- ä»»åŠ¡æ‰§è¡Œå†å²
- PlaybookåŸºç¡€æ”¯æŒ

### å®Œæ•´å¼€å‘è®¡åˆ’

**Sprint 1: é¡¹ç›®åˆå§‹åŒ– (1å‘¨)**
- Day 1-2: é¡¹ç›®ç»“æ„æ­å»º
- Day 3-4: åŸºç¡€æ¡†æ¶é›†æˆ
- Day 5-7: ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

**Sprint 2: æœåŠ¡å™¨ç®¡ç† (1-2å‘¨)**
- Week 1: æœåŠ¡å™¨CRUD APIå¼€å‘
- Week 2: æœåŠ¡å™¨ç®¡ç†é¡µé¢

**Sprint 3: AnsibleåŸºç¡€é›†æˆ (2å‘¨)**
- Week 1: Ansibleå‘½ä»¤è¡Œé›†æˆï¼ŒAdhoc APIå¼€å‘
- Week 2: Adhocæ‰§è¡Œé¡µé¢

**Sprint 4: Inventoryç®¡ç† (1-2å‘¨)**
- Week 1: Inventory CRUD API
- Week 2: Inventoryç®¡ç†é¡µé¢

**Sprint 5: Playbookç®¡ç† (1-2å‘¨)**
- Week 1: Playbookå­˜å‚¨å’Œç®¡ç†
- Week 2: Playbookç®¡ç†é¡µé¢

### MVPäº¤ä»˜æ ‡å‡†
1. ç”¨æˆ·èƒ½å¤Ÿç™»å½•ç³»ç»Ÿå¹¶ç®¡ç†æœåŠ¡å™¨ä¿¡æ¯
2. èƒ½å¤Ÿå¯¹ç›®æ ‡æœåŠ¡å™¨æ‰§è¡ŒAdhocå‘½ä»¤å¹¶æŸ¥çœ‹ç»“æœ
3. èƒ½å¤Ÿä¸Šä¼ å’Œç®¡ç†Inventoryæ–‡ä»¶
4. èƒ½å¤Ÿä¸Šä¼ å’Œæ‰§è¡Œç®€å•çš„Playbook
5. èƒ½å¤ŸæŸ¥çœ‹æ‰§è¡Œå†å²å’ŒåŸºç¡€æ—¥å¿—

### æš‚ç¼“åŠŸèƒ½ (åç»­é˜¶æ®µ)
- WebSocketå®æ—¶è¾“å‡º
- é«˜çº§æƒé™ç®¡ç†
- ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿ
- ç›‘æ§å’Œå‘Šè­¦
- æ€§èƒ½ä¼˜åŒ–

## é¡¹ç›®ç»“æ„

```
server-manager/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go                 # åº”ç”¨å…¥å£
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ auth/                       # è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ server/                     # æœåŠ¡å™¨ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ ansible/                    # Ansibleé›†æˆæ¨¡å—
â”‚   â”œâ”€â”€ task/                       # ä»»åŠ¡ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ websocket/                  # WebSocketæ¨¡å—
â”‚   â”œâ”€â”€ user/                       # ç”¨æˆ·ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ middleware/                 # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ config/                     # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ common/                     # å…¬å…±ç»„ä»¶
â”œâ”€â”€ pkg/                            # å…¬å…±åŒ…
â”œâ”€â”€ web/                            # å‰ç«¯ä»£ç  (React)
â”œâ”€â”€ scripts/                        # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ configs/                        # é…ç½®æ–‡ä»¶
â”œâ”€â”€ deployments/                    # éƒ¨ç½²æ–‡ä»¶
â”œâ”€â”€ docs/                          # æ–‡æ¡£
â”œâ”€â”€ tests/                         # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ Makefile
â””â”€â”€ README.md
```

## å½“å‰è¿›å±•

### å·²å®Œæˆ âœ…
- âœ… éœ€æ±‚åˆ†æå’Œæ¶æ„è®¾è®¡
- âœ… Goé¡¹ç›®ç»“æ„åˆå§‹åŒ–
- âœ… åŸºç¡€Goä¾èµ–å®‰è£…
- âœ… åŸºç¡€æœåŠ¡å™¨æ¡†æ¶ (Gin + é…ç½® + ä¸­é—´ä»¶)
- âœ… å¥åº·æ£€æŸ¥æ¥å£æµ‹è¯•é€šè¿‡
- âœ… **Reactå‰ç«¯é¡¹ç›®å®Œæ•´é…ç½®**
  - React 19 + TypeScript + Vite
  - æ ‡å‡†Tailwind CSS 4.x å®Œæ•´é…ç½®ï¼ˆå·²ä¿®å¤è‡ªå®šä¹‰é¢œè‰²é—®é¢˜ï¼‰
  - UIç»„ä»¶åº“åŸºç¡€ç»„ä»¶ (Button, Input, Card, Labelç­‰)
  - è·¯å¾„åˆ«åé…ç½® (@/*)
  - PostCSS å’Œ Autoprefixer
- âœ… **å¼€å‘ç¯å¢ƒå®Œæ•´è®¾ç½®**
  - Docker Compose å¼€å‘é…ç½®
  - PostgreSQL æ•°æ®åº“ schema è®¾è®¡
  - å¼€å‘é…ç½®æ–‡ä»¶ (config.dev.yaml)
  - Makefile å¼€å‘å·¥å…·é“¾
  - å‰åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ
- âœ… **Sprint 1: åç«¯ç”¨æˆ·è®¤è¯ç³»ç»Ÿå®Œæ•´å®ç°**
  - ç”¨æˆ·æ¨¡å‹å’Œæ•°æ®åº“è¡¨ (GORM + SQLite)
  - JWT è®¤è¯ç®¡ç†å™¨ (tokenç”Ÿæˆ/éªŒè¯)
  - å®Œæ•´è®¤è¯APIç«¯ç‚¹ (æ³¨å†Œ/ç™»å½•/èµ„æ–™ç®¡ç†)
  - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (admin/user)
  - å¯†ç bcryptåŠ å¯†
  - é»˜è®¤ç®¡ç†å‘˜ç”¨æˆ·è‡ªåŠ¨åˆ›å»º
  - è®¤è¯ä¸­é—´ä»¶å’Œæƒé™éªŒè¯
  - æ‰€æœ‰APIç«¯ç‚¹æµ‹è¯•éªŒè¯é€šè¿‡
- âœ… **å®Œæ•´å‰ç«¯è®¤è¯ç³»ç»Ÿå®ç°**
  - ç™»å½•/æ³¨å†Œè¡¨å•ç»„ä»¶ (æ ‡å‡†Tailwind CSSæ ·å¼)
  - ZustandçŠ¶æ€ç®¡ç† (ç”¨æˆ·çŠ¶æ€å’Œè®¤è¯æŒä¹…åŒ–)
  - APIå®¢æˆ·ç«¯é…ç½® (Axios + JWT tokenè‡ªåŠ¨ç®¡ç†)
  - è·¯ç”±ä¿æŠ¤ä¸­é—´ä»¶ (æ”¯æŒç®¡ç†å‘˜æƒé™)
  - ç”¨æˆ·èµ„æ–™ç®¡ç†é¡µé¢
  - å“åº”å¼ä»ªè¡¨æ¿å¸ƒå±€å’Œä¾§è¾¹æ å¯¼èˆª
  - React Routerè·¯ç”±é…ç½®
  - TypeScriptç±»å‹å®‰å…¨
  - å‰åç«¯è®¤è¯é›†æˆæµ‹è¯•é€šè¿‡
- âœ… **å®‰å…¨åŠ å¯†ç³»ç»Ÿå¢å¼ºå®ç°**
  - âœ… **åŒé‡å¯†ç åŠ å¯†ä¿æŠ¤**
    - å‰ç«¯SHA-256+ç›å€¼å®¢æˆ·ç«¯å“ˆå¸Œ (`web/src/lib/crypto.ts`)
    - åç«¯bcryptæœåŠ¡å™¨ç«¯åŠ å¯† (ä¿®æ”¹ `internal/user/service.go`)
    - å¯†ç ä¼ è¾“å®‰å…¨ï¼šæ°¸ä¸æ˜æ–‡ä¼ è¾“
  - âœ… **å‰ç«¯åŠ å¯†å®ç°**
    - å®¢æˆ·ç«¯ä¸å¯é€†SHA-256å“ˆå¸Œå‡½æ•°
    - å›ºå®šç›å€¼: `server-manager-2025-secure-salt`
    - å¯†ç å¼ºåº¦éªŒè¯è§„åˆ™ (å¤§å°å†™å­—æ¯+æ•°å­—+ç‰¹æ®Šå­—ç¬¦+8ä½ä»¥ä¸Š)
    - ç™»å½•å’Œæ³¨å†Œæµç¨‹è‡ªåŠ¨åŠ å¯†
  - âœ… **åç«¯åŠ å¯†å¤„ç†**
    - ä¿®æ”¹è®¤è¯é€»è¾‘å¤„ç†é¢„å“ˆå¸Œå¯†ç 
    - ç”¨æˆ·åˆ›å»º/å¯†ç å˜æ›´æ”¯æŒåŒé‡åŠ å¯†
    - é»˜è®¤ç®¡ç†å‘˜ç”¨æˆ·å…¼å®¹æ–°åŠ å¯†æ–¹å¼
  - âœ… **æ•°æ®è¿ç§»å®Œæˆ**
    - æ¸…ç†æ—§ç”¨æˆ·æ•°æ®
    - é‡æ–°åˆ›å»ºå…¼å®¹åŒé‡åŠ å¯†çš„é»˜è®¤ç”¨æˆ·
    - å‰ç«¯ç™»å½•åŠŸèƒ½éªŒè¯æ­£å¸¸
- âœ… **Sprint 2: æœåŠ¡å™¨ç®¡ç†æ¨¡å—å®Œæ•´å®ç°**
  - âœ… **æœåŠ¡å™¨ç®¡ç†åç«¯API**
    - æœåŠ¡å™¨æ¨¡å‹å’Œæ•°æ®åº“è¡¨ (`internal/server_manager/model.go`)
    - å®Œæ•´CRUDæœåŠ¡å±‚ (`internal/server_manager/service.go`)
    - SSHè¿æ¥æµ‹è¯•åŠŸèƒ½ (`internal/server_manager/ssh.go`)
    - æœåŠ¡å™¨ç®¡ç†APIå¤„ç†å™¨ (`internal/server_manager/handler.go`)
    - æœåŠ¡å™¨ç»„ç®¡ç†åŠŸèƒ½ (åˆ›å»º/ç¼–è¾‘/åˆ é™¤/æŸ¥è¯¢)
    - æœåŠ¡å™¨ç»Ÿè®¡ä¿¡æ¯API
    - æœç´¢å’Œç­›é€‰åŠŸèƒ½
    - å…¨éƒ¨APIç«¯ç‚¹æµ‹è¯•éªŒè¯é€šè¿‡
  - âœ… **æœåŠ¡å™¨ç®¡ç†å‰ç«¯ç•Œé¢**
    - æœåŠ¡å™¨APIå®¢æˆ·ç«¯ (`web/src/services/server.ts`)
    - ReactçŠ¶æ€ç®¡ç†é’©å­ (`web/src/hooks/useServer.ts`) 
    - æœåŠ¡å™¨åˆ—è¡¨é¡µé¢ (`web/src/pages/ServersPage.tsx`)
    - æœåŠ¡å™¨è¡¨å•ç»„ä»¶ (`web/src/components/ServerForm.tsx`)
    - è·¯ç”±é›†æˆåˆ°App.tsx
    - æœç´¢ã€ç­›é€‰ã€åˆ†é¡µåŠŸèƒ½
    - SSHè¿æ¥æµ‹è¯•ç•Œé¢
  - âœ… **UIç»„ä»¶ä¾èµ–è§£å†³**
    - Badgeç»„ä»¶ (`web/src/components/ui/badge.tsx`)
    - Selectç»„ä»¶ (`web/src/components/ui/select.tsx`)
    - Tabsç»„ä»¶ (`web/src/components/ui/tabs.tsx`)
    - Tableç»„ä»¶ (`web/src/components/ui/table.tsx`)
    - AlertDialogç»„ä»¶ (`web/src/components/ui/alert-dialog.tsx`)
    - Textareaç»„ä»¶ (`web/src/components/ui/textarea.tsx`)
    - TypeScriptç±»å‹å¯¼å…¥ä¼˜åŒ– (ä½¿ç”¨ `import type`)

### å½“å‰è¿è¡ŒçŠ¶æ€ ğŸš€
- **å‰ç«¯**: http://localhost:5173 âœ…
  - React + Vite å¼€å‘æœåŠ¡å™¨
  - æ ‡å‡†Tailwind CSSé…ç½®æ­£å¸¸å·¥ä½œ
  - çƒ­é‡è½½æ­£å¸¸å·¥ä½œ
  - æ‰€æœ‰UIç»„ä»¶å’Œé¡µé¢æ­£å¸¸æ˜¾ç¤º
  - **åŒé‡åŠ å¯†è®¤è¯ç³»ç»Ÿæ­£å¸¸å·¥ä½œ**
  - **æœåŠ¡å™¨ç®¡ç†ç•Œé¢å®Œå…¨åŠŸèƒ½æ­£å¸¸**
- **åç«¯**: http://localhost:8080 âœ…
  - Go + Gin æœåŠ¡å™¨è¿è¡Œä¸­
  - SQLite å¼€å‘æ•°æ®åº“å·²åˆå§‹åŒ–
  - é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·: admin/admin123 (ä½¿ç”¨åŒé‡åŠ å¯†)
  - å®Œæ•´è®¤è¯APIå·²å°±ç»ªå’Œæµ‹è¯•éªŒè¯
  - **å®‰å…¨çš„åŒé‡å¯†ç åŠ å¯†ç³»ç»Ÿæ­£å¸¸è¿è¡Œ**
  - **æœåŠ¡å™¨ç®¡ç†APIå…¨éƒ¨å°±ç»ªå’Œæµ‹è¯•éªŒè¯**
  - æ‰€æœ‰ç«¯ç‚¹æ­£å¸¸å·¥ä½œ:
    - ğŸ”“ å…¬å¼€: `/health`, `/api/v1/auth/login`, `/api/v1/auth/register`  
    - ğŸ”’ è®¤è¯: `/api/v1/profile`, `/api/v1/change-password`, `/api/v1/refresh-token`
    - ğŸ‘‘ ç®¡ç†å‘˜: `/api/v1/admin/users/*`
    - ğŸ–¥ï¸ **æœåŠ¡å™¨ç®¡ç†**: `/api/v1/servers/*`, `/api/v1/server-groups/*`, `/api/v1/test-ssh`, `/api/v1/server-stats`

### å½“å‰ä»»åŠ¡ âœ…
- âœ… **å·²å®Œæˆ**: Reactå‰ç«¯è®¤è¯ç³»ç»Ÿå®Œæ•´å®ç°
- âœ… **å·²å®Œæˆ**: åŒé‡å¯†ç åŠ å¯†å®‰å…¨ç³»ç»Ÿå®ç°
- âœ… **å·²å®Œæˆ**: Sprint 2æœåŠ¡å™¨ç®¡ç†æ¨¡å—å®Œæ•´å®ç°
  - âœ… æœåŠ¡å™¨ç®¡ç†åç«¯API (CRUD + SSHæµ‹è¯• + ç»Ÿè®¡)
  - âœ… æœåŠ¡å™¨ç»„ç®¡ç†åŠŸèƒ½ 
  - âœ… å‰ç«¯æœåŠ¡å™¨ç®¡ç†ç•Œé¢ (åˆ—è¡¨ + è¡¨å• + æœç´¢ + ç­›é€‰)
  - âœ… å®Œæ•´APIæµ‹è¯•éªŒè¯é€šè¿‡
  - âœ… æ‰€æœ‰UIç»„ä»¶ä¾èµ–é—®é¢˜å·²è§£å†³

### ä¸‹ä¸€æ­¥è®¡åˆ’
1. **Sprint 3: AnsibleåŸºç¡€é›†æˆ**
   - Ansibleå‘½ä»¤è¡Œé›†æˆæ¡†æ¶
   - Adhocå‘½ä»¤æ‰§è¡ŒAPIå¼€å‘  
   - å‘½ä»¤æ‰§è¡Œç»“æœå­˜å‚¨å’Œå±•ç¤º
   - å®æ—¶è¾“å‡ºWebSocketé›†æˆ

2. **Ansibleå‰ç«¯ç•Œé¢**
   - Adhocå‘½ä»¤æ‰§è¡Œé¡µé¢
   - å‘½ä»¤å†å²å’Œç»“æœæŸ¥çœ‹
   - å‘½ä»¤æ¨¡æ¿ç®¡ç†
   - å®æ—¶æ‰§è¡Œè¾“å‡ºæ˜¾ç¤º

## æŠ€æœ¯ç»†èŠ‚

### å·²åˆ›å»ºçš„Goæ–‡ä»¶
- `cmd/server/main.go`: åº”ç”¨å…¥å£ç‚¹
- `internal/config/config.go`: é…ç½®ç®¡ç† (æ”¯æŒç¯å¢ƒå˜é‡)
- `internal/server/server.go`: GinæœåŠ¡å™¨è®¾ç½® + è·¯ç”±é…ç½® + æ•°æ®åº“åˆå§‹åŒ– + **åŒé‡åŠ å¯†å…¼å®¹çš„é»˜è®¤ç”¨æˆ·åˆ›å»º**
- `internal/middleware/logger.go`: æ—¥å¿—ä¸­é—´ä»¶
- `internal/middleware/cors.go`: CORSä¸­é—´ä»¶  
- `internal/middleware/auth.go`: JWTè®¤è¯ä¸­é—´ä»¶ + æƒé™éªŒè¯
- `internal/common/response.go`: ç»Ÿä¸€å“åº”æ ¼å¼
- **è®¤è¯ç³»ç»Ÿæ¨¡å—:**
  - `internal/user/model.go`: ç”¨æˆ·æ¨¡å‹å’Œè¯·æ±‚/å“åº”ç»“æ„ä½“
  - `internal/user/service.go`: ç”¨æˆ·ä¸šåŠ¡é€»è¾‘æœåŠ¡ (CRUD + åŒé‡åŠ å¯†å¯†ç éªŒè¯)
  - `internal/auth/jwt.go`: JWT tokenç®¡ç†å™¨
  - `internal/auth/handler.go`: è®¤è¯APIå¤„ç†å™¨ (ç™»å½•/æ³¨å†Œ/èµ„æ–™ç®¡ç†)
- **æœåŠ¡å™¨ç®¡ç†æ¨¡å—:**
  - `internal/server_manager/model.go`: æœåŠ¡å™¨å’ŒæœåŠ¡å™¨ç»„æ¨¡å‹
  - `internal/server_manager/service.go`: æœåŠ¡å™¨ç®¡ç†ä¸šåŠ¡é€»è¾‘ (CRUD + æœç´¢ + ç»Ÿè®¡)
  - `internal/server_manager/ssh.go`: SSHè¿æ¥æµ‹è¯•åŠŸèƒ½ 
  - `internal/server_manager/handler.go`: æœåŠ¡å™¨ç®¡ç†APIå¤„ç†å™¨

### å·²å®‰è£…çš„Goä¾èµ–
- github.com/gin-gonic/gin: Webæ¡†æ¶
- github.com/golang-jwt/jwt/v5: JWTè®¤è¯
- gorm.io/gorm: ORM
- gorm.io/driver/sqlite: SQLiteé©±åŠ¨
- gorm.io/driver/postgres: PostgreSQLé©±åŠ¨
- github.com/go-redis/redis/v8: Rediså®¢æˆ·ç«¯
- golang.org/x/crypto/bcrypt: å¯†ç åŠ å¯†
- **å†…ç½®GoåŒ…**: `crypto/sha256`, `encoding/hex` (ç”¨äºå‰ç«¯å…¼å®¹çš„SHA-256å“ˆå¸Œ)

### å‰ç«¯é¡¹ç›®å®Œæ•´é…ç½®
- **Reacté¡¹ç›®**: `/web/` ç›®å½•ï¼Œä½¿ç”¨ Vite + React 19 + TypeScript
- **ä¾èµ–åŒ…**: 
  - UI: `@tanstack/react-query`, `axios`, `react-router-dom`, `zustand`
  - Tailwind: `tailwindcss`, `@tailwindcss/postcss`, `autoprefixer`
  - Radix UI: `@radix-ui/react-label`
  - å·¥å…·: `class-variance-authority`, `clsx`, `tailwind-merge`
  - **åŠ å¯†**: `crypto-js` (ç”¨äºSHA-256å®¢æˆ·ç«¯å“ˆå¸Œ)
- **é…ç½®æ–‡ä»¶**:
  - `tailwind.config.js`: æ ‡å‡†Tailwind CSS 4.x é…ç½®
  - `postcss.config.js`: PostCSS é…ç½®
  - `vite.config.ts`: Vite é…ç½®ï¼ŒåŒ…å«è·¯å¾„åˆ«å
  - `tsconfig.app.json`: TypeScript é…ç½®ï¼ŒåŒ…å«è·¯å¾„æ˜ å°„
- **UIç»„ä»¶**: 
  - `src/components/ui/`: Button, Input, Label, Card, Badge, Select, Table, AlertDialog, Tabs, Textareaç­‰ç»„ä»¶
  - `src/components/auth/`: LoginForm, RegisterForm, ProtectedRoute
  - `src/components/layout/`: DashboardLayout, Sidebar
  - `src/components/ServerForm.tsx`: æœåŠ¡å™¨æ·»åŠ /ç¼–è¾‘è¡¨å•
- **é¡µé¢ç»„ä»¶**:
  - `src/pages/auth/`: LoginPage, RegisterPage
  - `src/pages/`: DashboardPage, ProfilePage, ServersPage
  - `src/hooks/useServer.ts`: æœåŠ¡å™¨ç®¡ç†çŠ¶æ€é’©å­
- **çŠ¶æ€ç®¡ç†**: `src/stores/auth.ts` (Zustand + persist)
- **APIæœåŠ¡**: `src/services/auth.ts` + `src/lib/api.ts` (Axiosé…ç½®)
- **å·¥å…·å‡½æ•°**: 
  - `src/lib/utils.ts` (cn å‡½æ•°ç”¨äºæ ·å¼åˆå¹¶)
  - **`src/lib/crypto.ts` (å®¢æˆ·ç«¯SHA-256åŠ å¯† + å¯†ç å¼ºåº¦éªŒè¯)**
- **è‡ªå®šä¹‰Hooks**: `src/hooks/useAuth.ts` (è®¤è¯é€»è¾‘å°è£… + åŒé‡åŠ å¯†é›†æˆ)

### å¼€å‘ç¯å¢ƒé…ç½®
- **Dockeré…ç½®**: `docker-compose.dev.yml` (PostgreSQL + Redis + å¯é€‰APIæœåŠ¡)
- **æ•°æ®åº“**: `scripts/init-db.sql` (å®Œæ•´çš„PostgreSQL schema)
- **å¼€å‘é…ç½®**: `configs/config.dev.yaml` (åº”ç”¨é…ç½®)
- **å¼€å‘å·¥å…·**: `Makefile` (å¸¸ç”¨å¼€å‘å‘½ä»¤)
- **å®¹å™¨é…ç½®**: `Dockerfile.dev` (å¼€å‘ç¯å¢ƒDockeré•œåƒ)

## æ³¨æ„äº‹é¡¹

### å¼€å‘ç¯å¢ƒä½¿ç”¨
1. **å¯åŠ¨æœåŠ¡**: 
   - å‰ç«¯: `cd web && npm run dev` (ç«¯å£ 5173)
   - åç«¯: `go run cmd/server/main.go` (ç«¯å£ 8080)
   - æˆ–ä½¿ç”¨: `make dev-start` (å¯åŠ¨æ•°æ®åº“) + åˆ†åˆ«å¯åŠ¨å‰åç«¯
   - **æ³¨æ„**: å®é™…è¿è¡Œç«¯å£å¯èƒ½å› å†²çªè°ƒæ•´ä¸º5174

2. **æ•°æ®åº“**: å½“å‰ä½¿ç”¨SQLiteå¼€å‘ï¼ŒDocker PostgreSQLé…ç½®å·²å°±ç»ª
3. **è®¤è¯**: ä½¿ç”¨JWT tokenè®¤è¯æœºåˆ¶ï¼Œå¯†é’¥é…ç½®åœ¨ config.dev.yaml
4. **å®‰å…¨æ€§**: **åŒé‡å¯†ç åŠ å¯†** - å‰ç«¯SHA-256å“ˆå¸Œ + åç«¯bcryptï¼Œä¼ è¾“å±‚æ— æ˜æ–‡å¯†ç 
5. **APIè·¯å¾„**: åç«¯APIå‰ç¼€ `/api/v1/`ï¼Œé™æ€æ–‡ä»¶æœåŠ¡ `/static/`
6. **å¼€å‘å·¥å…·**: Makefileæä¾›å¸¸ç”¨å‘½ä»¤ (`make help` æŸ¥çœ‹)

### æŠ€æœ¯æ ˆç‰ˆæœ¬
- **å‰ç«¯**: React 19, Vite 7.1, Tailwind CSS 4.x, TypeScript 5.8
- **åç«¯**: Go 1.21, Ginæ¡†æ¶, GORM v2
- **æ•°æ®åº“**: PostgreSQL 15 (ç”Ÿäº§) / SQLite (å¼€å‘)
- **ç¼“å­˜**: Redis 7
- **å®¹å™¨**: Docker Compose v2

## é£é™©å’Œç¼“è§£

**æŠ€æœ¯é£é™©:**
- Ansibleé›†æˆå¤æ‚åº¦ â†’ å…ˆå®ç°ç®€å•å‘½ä»¤è°ƒç”¨
- å‰åç«¯æ•°æ®åŒæ­¥ â†’ ä½¿ç”¨TypeScriptå®šä¹‰å…±äº«ç±»å‹
- å¹¶å‘ä»»åŠ¡å¤„ç† â†’ MVPé˜¶æ®µä½¿ç”¨åŒæ­¥æ‰§è¡Œ

**è¿›åº¦é£é™©:**
- å¼€å‘æ—¶é—´ä¼°ç®—åå·® â†’ æ¯Sprintç»“æŸè¯„ä¼°è¿›åº¦

---

*æœ€åæ›´æ–°: 2025-09-07*
*é¡¹ç›®çŠ¶æ€: Sprint 2æœåŠ¡å™¨ç®¡ç†æ¨¡å—å®Œæ•´å®ç° - å‡†å¤‡è¿›å…¥Sprint 3 Ansibleé›†æˆå¼€å‘*  
*å¼€å‘ç¯å¢ƒ: âœ… å®Œå…¨å°±ç»ª (å‰ç«¯: :5173, åç«¯: :8080)*
*å®‰å…¨çŠ¶æ€: âœ… åŒé‡åŠ å¯†ä¿æŠ¤æ­£å¸¸å·¥ä½œ (å‰ç«¯SHA-256 + åç«¯bcrypt)*
*å½“å‰é‡Œç¨‹ç¢‘: MVP Phase 2 - æœåŠ¡å™¨ç®¡ç†åŠŸèƒ½å®Œæˆï¼Œå‡†å¤‡å¼€å§‹Ansibleé›†æˆåŠŸèƒ½*